id: import_csv_users
uuid: a928527a-7c07-44c1-96dc-fb532c98f04a
label: Import users
migration_group: custom_users

source:
  plugin: 'csv'
  path: 'modules/custom/custom_migration_users/assets/users.csv'
  delimiter: ','
  enclosure: '"'
  header_offset: 0
  ids:
    - ID

process:
  name: name
  mail: email
  roles:
    plugin: explode
    delimiter: ','
    source: roles
  field_first_name: firstname
  field_last_name: lastname
  status: Status
  pass: Password

destination:
  plugin: 'entity:user'
  md5_passwords: true

migration_dependencies:
  required: {  }
  optional:
    - import_csv_users_extra_fields
